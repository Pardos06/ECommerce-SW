<div class="container mt-4">
  <h2 class="text-center text-primary fw-bold mb-3">Gestión de Productos</h2>

  <div *ngIf="cargando" class="text-center mt-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-2">Cargando productos...</p>
  </div>

  <div *ngIf="!cargando && productos.length === 0" class="alert alert-warning">
    No hay productos registrados.
  </div>

  <table *ngIf="!cargando && productos.length > 0" class="table table-hover table-bordered">
    <thead class="table-primary">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Categoría</th>
        <th>Precio</th>
        <th>Stock</th>
        <th>Disponibilidad</th>
        <th>Imagen</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let producto of productos">
        <td>{{ producto.id }}</td>
        <td>{{ producto.nombre }}</td>
        <td>{{ producto.categoria }}</td>
        <td>S/. {{ producto.precio | number:'1.2-2' }}</td>
        <td>{{ producto.stock }}</td>
        <td>
          <span class="badge"
                [ngClass]="producto.disponibilidad === 'Disponible' ? 'bg-success' : 'bg-danger'">
            {{ producto.disponibilidad }}
          </span>
        </td>
        <td>
          <img *ngIf="producto.imagenNombre"
               [src]="'http://localhost:8080/imagenes/' + producto.imagenNombre"
               alt="{{ producto.nombre }}"
               width="60"
               height="60"
               class="rounded shadow-sm" />
        </td>
      </tr>
    </tbody>
  </table>
</div>
